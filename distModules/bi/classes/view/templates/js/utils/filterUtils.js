"use strict";define(["jquery","underscore","q","moment","views/filters/boxFilter","views/filters/dateFilter","views/filters/areaFilter","views/filters/sliderFilter","models/filters/filter","models/categories/categoryTerms","config/appConfig"],function(a,b,c,d,e,f,g,h,i,j,k){var l=function(a){if(b.isEmpty(a))return null;var c=d(a,k.DATE_FORMAT).toDate().toISOString();return c};return{getFilterView:function(a){var c=[k.FILTER_LANGUAGE,k.FILTER_SECTION,k.FILTER_EVENT_TYPES,k.FILTER_DEVICE_TYPE,k.FILTER_RESOURCE,k.FILTER_RESOURCE_TERMS,k.FILTER_RESOURCE_TOPICS,k.FILTER_RESOURCE_TYPES,k.FILTER_EXPLORER,k.FILTER_TAXONOMY_TERMS],d=[k.FILTER_DATE_RANGE],i=[k.FILTER_RESOURCE_GEOGRAPHIC_BOUND,k.FILTER_EXPLORER_GEOGRAPHIC_BOUND],j=[k.FILTER_SECONDS];return b.contains(c,a)?e:b.contains(d,a)?f:b.contains(i,a)?g:b.contains(j,a)?h:void 0},getFilterUrl:function(a){var c=b.findWhere(k.FILTER_URL,{filterID:a});return b.isUndefined(c)||b.isUndefined(c.url)?void 0:c.url},getFilterModel:function(a){var c=[k.FILTER_RESOURCE_TERMS,k.FILTER_TAXONOMY_TERMS];return b.contains(c,a)?new j({filterID:a}):new i({filterID:a})},processDateFilters:function(a,c,d,e){var f=[];b.isEmpty(d)||f.push({operator:"$gte",value:l(d)}),b.isEmpty(e)||f.push({operator:"$lte",value:l(e)}),a.push({filterID:c.attributes.filterID,values:f})},processMetricFilters:function(a,b){a.push({filterID:k.FILTER_EXPLORERS_FILTERS_ID,values:[{$eq:b}]})},processFilter:function(a,b){a.push({filterID:b.attributes.filterID,values:b.attributes.values})}}});