define(["jquery","underscore","backbone","config/appConfig"],function(a,b,c,d){var e=c.View.extend({el:"#result",initialize:function(a){0===b.size(this.$("#map"))&&this.$el.append("<div id='map'></div>"),this.$map=this.$("#map"),this.data=a.chartData},render:function(){this.renderMap(),this.renderHeatMapLayer(),this.map.fitBounds(this.data)},renderMap:function(){var a=L.tileLayer(d.URL_OPENSTREETMAP,{minZoom:2,maxZoom:16});b.size(this.data)<1?this.map=new L.Map(this.$map[0],{center:new L.LatLng(30,-10),zoom:2,layers:[a]}):this.map=new L.Map(this.$map[0],{center:new L.LatLng(this.data[0].lat,this.data[0].lng),zoom:10,layers:[a]})},renderHeatMapLayer:function(){var a={radius:.005,maxOpacity:.5,scaleRadius:!0,useLocalExtrema:!0,latField:"lat",lngField:"lng",valueField:"data"},b=new HeatmapOverlay(a);this.map.addLayer(b);var c={max:50,data:this.data};b.setData(c)},remove:function(){this.$map.remove()}});return e});